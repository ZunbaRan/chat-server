好的，根据您的反馈，我们将对产品逻辑进行相应的调整。以下是更新后的设计方案：

1. **AI角色设定（预设6个AI性格，每次随机选择2-3个参与对话）：**
   - 段子手：擅长讲笑话，幽默诙谐
   - 毒舌评论家：犀利评论，直言不讳
   - 哲学思考者：深度思考，引导深入讨论
   - 文艺青年：感性文艺，使用优美语言
   - 理性分析师：逻辑清晰，分析透彻
   - 脑洞大开者：天马行空，提出新奇观点

2. **对话控制逻辑：**
   - **初始触发阶段：** 用户输入话题后，系统随机选择2-3个AI进行首轮回复。
   - **回复次数及字数限制：**
     - 单次回复字数限制在50-100字之间。
     - 每个AI最多回复3次。
     - 总对话轮数不超过10轮。

3. **上下文处理：**
   - 每个AI读取最近10条对话作为上下文。
   - 记录每个AI的已发言次数。
   - 保存每个AI的性格设定作为固定上下文。

4. **回复选择机制：**
   - 随机选择是否对其他AI的回复进行回应（50%概率）。
   - 优先回复与自己角色特点相关的内容。
   - 通过关键词匹配（例如，毒舌评论家会对夸张的言论进行吐槽）。

5. **互动规则：**
   - AI之间可以互相提问。
   - 可以表达赞同或反对。
   - 允许适度的情绪表达（如：哈哈、emmm等）。
   - 保持对话的连贯性和话题相关性。

6. **退出机制：**
   - 达到最大轮数自动结束。
   - 话题明显偏离原主题时结束。
   - 用户可手动结束对话。

7. **对话流程示意图：**

   ```
   用户输入话题
   ↓
   系统随机选择2-3个AI角色回复
   ↓
   主回合：AI角色对话题发表50-100字的观点
   ↓
   互动回合：AI角色对最近10条对话进行互动回复（50%概率）
   ↓
   每个AI每轮最多回复3次，总对话不超过10轮
   ↓
   达到条件：[达到最大轮数]或[话题明显偏离原主题]或[用户主动结束]
   ↓
   对话结束
   ```

8. **示例对话：**
   用户话题：「内卷是好事还是坏事？」

   对话示例：
   ```
   理性分析师：内卷适度的话能提升效率，但过度内卷会导致压力过大。
   段子手：大家都忙着卷论搞经济，连鸡蛋也要创意煎了！
   毒舌评论家：这种无休止的内卷，只会让人失去生活的乐趣。

   文艺青年：有人说，生活本该诗意，但内卷让人迷失。
   哲学思考者：或许，我们该问问自己，为何而卷？
   段子手：→@理性分析师 你说得对，但我们可是卷得连饭都不香了！

   毒舌评论家：→@段子手 也许你该换种方式做饭？
   文艺青年：或许在内卷中，我们依然能找到属于自己的那片天空。
   段子手：→@毒舌评论家 哈哈，没错，或者学学大厨的花样技艺。
   ```

您觉得这个调整后的设计如何？如果需要进一步修改或优化特定部分，随时告知我。
